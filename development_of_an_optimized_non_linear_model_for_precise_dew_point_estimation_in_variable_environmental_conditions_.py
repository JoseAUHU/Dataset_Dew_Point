# -*- coding: utf-8 -*-
"""Development of an Optimized Non-Linear Model for Precise Dew Point Estimation in Variable Environmental Conditions .ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/14fDkEP_4Wp_E2uQ2_jjlyYkADwZxYr8C

##Dataset code

This code calculates and generates a dataset of dew point temperatures based on different combinations of air temperature and relative humidity. It uses a mathematical formula to estimate the dew point and stores the results in a matrix, which is then saved as a CSV file.
"""

import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

# Define the dataset equation
def dataset_equation(temperature, relative_humidity):
    return ((237.3 * (np.log(relative_humidity / 100) + ((17.27 * temperature) / (237.3 + temperature)))) /
            (17.27 - (np.log(relative_humidity / 100) + ((17.27 * temperature) / (237.3 + temperature)))))

# Define the range of values for X and Y
X_values = np.linspace(5, 50, 300)
Y_values = np.linspace(20, 100, 300)

# Create a matrix to store the results of the equations and the dataset
Z_dataset = np.zeros((len(X_values), len(Y_values)))

# Calculate the values of Z for each combination of X and Y
for i, X in enumerate(X_values):
    for j, Y in enumerate(Y_values):
        # Calculate the minimum relative humidity for each temperature
        HRmin = (130.31 * np.exp(-0.061 * i))

        # Calculate the dew point temperature
        dew_point_temperature = ((237.3 * (np.log(Y / 100) + ((17.27 * X) / (237.3 + X)))) /
                               (17.27 - (np.log(Y / 100) + ((17.27 * X) / (237.3 + X)))))

        if j >= HRmin:
            if dew_point_temperature >= 0:
                Z_dataset[i, j] = dataset_equation(X, Y)
            else:
                Z_dataset[i, j] = 0
        else:
            Z_dataset[i, j] = 0

# Create a DataFrame for the Z_dataset matrix
df_dataset = pd.DataFrame(Z_dataset, index=np.round(X_values, 2), columns=np.round(Y_values, 2))

# Save the DataFrame to a CSV file
df_dataset.to_csv("dew_point_dataset_matrix.csv")

print("CSV file successfully created as 'dew_point_dataset_matrix.csv'")